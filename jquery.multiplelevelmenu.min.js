!function(a){a.fn.multipleLevelMenu=function(b){function c(){g.addClass(f.activeClass),f.wrapperElement.addClass(f.activeClass).bind("click",d),f.triggerElement.addClass(f.activeClass)}function d(){g.removeClass(f.activeClass),f.wrapperElement.removeClass(f.activeClass).unbind("click"),f.triggerElement.removeClass(f.activeClass),f.preserveState||a("ul",g).removeClass(f.activeClass)}var e,f=a.extend({triggerElement:a(".multiple-level-menu_trigger"),closeElement:a(".multiple-level-menu_close"),wrapperElement:a(".multiple-level-menu_wrapper"),activeClass:"is-active",disableAbove:!1,disableBelow:!1,preserveState:!1},b),g=this,h=(a("body"),window.innerWidth);return a(window).bind("load resize",function(){h=window.innerWidth,(f.disableAbove===!1||f.disableAbove>h)&&(f.disableBelow===!1||f.disableBelow<h)?e=!0:(e=!1,g.removeClass(f.activeClass),a("ul",g).removeClass(f.activeClass),f.wrapperElement.removeClass(f.activeClass))}),f.triggerElement.bind("click",function(){e&&(g.hasClass(f.activeClass)?d():c())}),g.bind("click",function(a){a.stopPropagation()}),f.closeElement.bind("click",function(b){if(b.stopPropagation(),e){var c,d=a(this);d.parent("ul").hasClass(f.activeClass)?c=d.parent("ul"):(c=d.parents("nav"),f.wrapperElement.removeClass(f.activeClass)),c.removeClass("is-active")}}),a("li",g).bind("click",function(){if(e){var b=a(this),c=a("> ul",b);c.length>0&&c.addClass(f.activeClass)}}),g}}(jQuery);